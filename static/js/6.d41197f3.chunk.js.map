{"version":3,"sources":["Component/Loader/Loader.js","Component/Searchbar/Searchbar.js","Page/MoviesPage/MoviesPage.js","Services/API.js","Component/ListMovies/ListMovies.js","Component/ListMovies/ListMovies.module.css","Component/Button/Button.js","Component/Button/Button.module.css","Component/Loader/Loader.module.css","Component/Searchbar/Searchbar.module.css"],"names":["MyLoader","className","style","center","type","color","height","width","Searchbar","state","query","notify","toast","info","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","handleSubmit","e","preventDefault","trim","props","onSubmitForm","resetState","handleChange","setState","currentTarget","value","onSubmit","this","SearchForm","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","name","onChange","Component","MoviesPage","articles","page","loading","toResult","onSearch","getShowTitle","getListMovie","queryModify","location","search","slice","console","log","toggleLoading","fetchQueryMovie","then","response","data","results","length","catch","error","finally","history","push","pathname","getLoadMore","prevProps","prevState","nextQuery","prevQuery","window","scrollTo","top","document","documentElement","scrollHeight","behavior","onLoad","list","Button","onClick","aria-label","KEY_API","fetchTrendingWeek","axios","get","fetchCast","movieId","fetchMovieId","fetchReviewsMovie","withRouter","map","movie","to","id","from","title","module","exports","children","allyProps","defaultProps"],"mappings":"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","file":"static/js/6.d41197f3.chunk.js","sourcesContent":["import React from 'react';\nimport Loader from 'react-loader-spinner';\nimport style from './Loader.module.css';\n\nconst MyLoader = () => {\n  return (\n    <Loader\n      className={style.center}\n      type=\"Circles\"\n      color=\"#3f5\"\n      height={55}\n      width={55}\n     \n    />\n  );\n};\n\nexport default MyLoader;\n","import React, { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport PropTypes from 'prop-types';\nimport style from './Searchbar.module.css';\n\n\n\nclass Searchbar extends Component {\n  static propTypes = {\n    onSubmitForm: PropTypes.func,\n  };\n\n  state = {\n    query: '',\n  };\n\n  notify = () =>\n    toast.info('fill in the field', {\n      position: 'top-center',\n      autoClose: 5000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined,\n    });\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { query } = this.state;\n   \n    query.trim() ? this.props.onSubmitForm(query) : this.notify();\n\n    this.resetState();\n  };\n\n  handleChange = e => {\n    this.setState({ query: e.currentTarget.value });\n    \n  };\n\n  resetState = () => {\n    this.setState({ query: '' });\n  };\n\n  render() {\n    return (\n      <header className={style.Searchbar}>\n        <form onSubmit={this.handleSubmit} className={style.SearchForm}>\n          <button type=\"submit\" className={style.SearchFormButton}>\n            <span className={style.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={style.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search movie\"\n            name=\"search\"\n            value={this.state.query}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import Button from \"../../Component/Button/Button\";\nimport ListMovie from \"../../Component/ListMovies/ListMovies\";\nimport MyLoader from \"../../Component/Loader/Loader\";\nimport Searchbar from \"../../Component/Searchbar/Searchbar\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { fetchQueryMovie } from \"../../Services/API\";\n\n\nclass MoviesPage extends Component {\n  static propTypes = {\n    history: PropTypes.object,\n    location: PropTypes.object,\n  };\n\n  state = {\n    articles: [],\n    page: 1,\n    loading: false,\n    toResult: false,\n  };\n\n  componentDidMount() {\n    if (this.props.location.search) {\n      this.getListMovie();\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const nextQuery = this.props.location.search;\n    const prevQuery = prevProps.location.search;\n    if (nextQuery !== prevQuery) {\n      this.setState({ toResult: false });\n      this.getListMovie();\n    }\n    console.log(nextQuery, prevQuery);\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  onSearch = query => {\n    this.setState({ articles: [], page: 1 });\n    this.getShowTitle(query);\n  };\n\n  getListMovie = () => {\n    const { page, articles } = this.state;\n    const { search } = this.props.location;\n   \n    const queryModify = search.slice(1);\n    console.log(queryModify);\n\n    this.toggleLoading();\n    fetchQueryMovie(queryModify, page)\n      .then(response => {\n        if (response.data.results.length === 0) {\n          this.setState({ toResult: true });\n          return;\n        }\n        this.setState({\n          articles: [...articles, ...response.data.results],\n          page: page + 1,\n        });\n      })\n      .catch(error => this.setState({ error }))\n      .finally(\n        \n        this.toggleLoading,\n      );\n  };\n\n  getShowTitle = query => {\n    const { history, location } = this.props;\n    history.push({ pathname: location.pathname, search: `query=${query}` });\n  };\n\n  getLoadMore = () => {\n    this.getListMovie();\n  };\n\n  toggleLoading = () => {\n    this.setState(({ loading }) => ({\n      loading: !loading,\n    }));\n  };\n\n  render() {\n    const { loading, articles, toResult } = this.state;\n    return (\n      <>\n        <Searchbar onSubmitForm={this.onSearch} />\n        {loading && <MyLoader onLoad={loading} />}\n        {toResult && <p>No result</p>}\n        {articles.length > 0 && <ListMovie list={articles} />}\n        {articles.length > 0 && (\n          <Button onClick={this.getLoadMore} aria-label=\"Load more\">\n            Load more\n          </Button>\n        )}\n      </>\n    );\n  }\n}\n\nexport default MoviesPage;\n","import axios from 'axios';\n\n\nconst KEY_API = '35e0acb18456e1bafb134cbae820a65c';\n\nexport const fetchTrendingWeek = axios.get(\n  `https://api.themoviedb.org/3/trending/movie/week?api_key=${KEY_API}`,\n);\n\nexport const fetchCast = movieId =>\n  axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=${KEY_API}&language=en-US`,\n  );\n\nexport const fetchMovieId = movieId =>\n  axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}?api_key=${KEY_API}&language=en-US`,\n  );\n\nexport const fetchQueryMovie = (query, page) =>\n  axios.get(\n    `https://api.themoviedb.org/3/search/movie?api_key=${KEY_API}&language=en-US&${query}&page=${page}&include_adult=false`,\n  );\n\nexport const fetchReviewsMovie = movieId =>\n  axios.get(\n    `https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=${KEY_API}&language=en-US&page=1`,\n  );\n","import React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport style from './ListMovies.module.css';\n\n\nconst ListMovie = ({ list, location }) => {\n  return (\n    <ol>\n      {list.map(movie => (\n        <li className={style.list} key={movie.id}>\n          <Link\n            to={{\n              pathname: `movies/${movie.id}`,\n              state: { from: location.pathname },\n              search: location.search,\n            }}\n          >\n            {movie.title}\n          </Link>\n        </li>\n      ))}\n    </ol>\n  );\n};\n\nListMovie.propTypes = {\n  list: PropTypes.array,\n  location: PropTypes.object,\n};\n\nexport default withRouter(ListMovie);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ListMovies_list__1r-LX\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport style from './Button.module.css';\n\n\nconst Button = ({ children, onClick, ...allyProps }) => (\n  <button\n    type=\"button\"\n    className={style.Button}\n    onClick={onClick}\n    {...allyProps}\n  >\n    {children}\n  </button>\n);\n\nButton.defaultProps = {\n  onClick: () => null,\n  children: null,\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func,\n  children: PropTypes.node,\n  'aria-label': PropTypes.string.isRequired,\n};\n\nexport default Button;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3mBgY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"center\":\"Loader_center__1mmry\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3OfdA\",\"SearchForm\":\"Searchbar_SearchForm__JHzyS\",\"SearchFormButton\":\"Searchbar_SearchFormButton__33pBD\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2FS8-\",\"SearchFormInput\":\"Searchbar_SearchFormInput__12mSk\"};"],"sourceRoot":""}